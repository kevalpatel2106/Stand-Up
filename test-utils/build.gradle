/*
 *  Copyright 2017 Keval Patel.
 *
 *  Licensed under the GNU General Public License, Version 3.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *  https://www.gnu.org/licenses/gpl-3.0.en.html
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 */

apply plugin: 'com.android.library'
apply plugin: 'jacoco-android'
apply plugin: 'kotlin-android'
apply plugin: 'kotlin-android-extensions'
apply plugin: 'com.jakewharton.hugo'

apply from: '../gradle/config.gradle'
apply from: '../gradle/deps.gradle'


android {
    signingConfigs signingConfig

    compileSdkVersion buidlConfig.compile
    buildToolsVersion buidlConfig.buildToolVersion

    defaultConfig libDefaultConfig
    buildTypes {
        debug {
            crunchPngs false
            testCoverageEnabled true
            signingConfig signingConfigs.playStore
        }
    }

    compileOptions compileOption
    packagingOptions packageExcludes
    lintOptions lintOption
    aaptOptions aaptOption
    dexOptions dexOption
    testOptions testOption
    adbOptions adbOption
}

// Test Logging
tasks.withType(Test) {
    testLogging {
        exceptionFormat = 'full'
        events "started", "passed", "skipped", "failed"
    }
}

dependencies {
    //Testing
    api testLib.junit
    api testLib.rules
    api testLib.arch
    api testLib.esspresso
    api testLib.runner
    api testLib.esspressoIntents
    api testLib.contrib
    api testLib.idling
    api testLib.uiAutomator
    api testLib.mockwebserver
    api testLib.mockito

    implementation ide.kotlin
    implementation supportLib.appCompat
    implementation supportLib.supportv4
    implementation supportLib.design

    //Rx
    implementation rxLib.rxJava
    implementation (rxLib.rxAndroid, excludeGrp)

    //Loggers
    implementation(debugLibs.timber, excludeGrp)
}